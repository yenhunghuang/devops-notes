# ğŸ“˜ 2025-04-05 - DevOps Bootcamp Day 4

---

## ğŸ¯ ä»Šæ—¥ä»»å‹™é‡é»
- å®‰è£ Jenkins ä¸¦æˆåŠŸé€²å…¥ä»‹é¢
- å®Œæˆç¬¬ä¸€å€‹ Freestyle ä»»å‹™ï¼ˆHello Jobï¼‰
- æ’°å¯« Pipeline ä»»å‹™ä¸¦ç†è§£éšæ®µæ¦‚å¿µ
- å»ºç«‹å¤šéšæ®µï¼ˆbuild â†’ test â†’ deployï¼‰æµç¨‹
- ç†è§£ Jenkins çš„ Job â†’ Build â†’ Console Output åŸ·è¡Œæ¶æ§‹

---

## ğŸ›  Jenkins å®‰è£èˆ‡å•Ÿå‹•

### âœ… Docker æŒ‡ä»¤èªªæ˜
```bash
docker run -d -p 8080:8080 -p 50000:50000 \
  -v jenkins_home:/var/jenkins_home \
  --name jenkins \
  jenkins/jenkins:lts
```

- `-p 8080:8080`ï¼šå°å¤–é–‹å•Ÿ Jenkins Web UI
- `-v`ï¼šå°‡ container çš„ Jenkins è³‡æ–™å„²å­˜åœ¨æœ¬åœ° volume
- `--name`ï¼šæŒ‡å®š container åç¨±
- `jenkins/jenkins:lts`ï¼šä½¿ç”¨ Jenkins ç©©å®šç‰ˆæœ¬

---

## ğŸ” è§£é–åˆå§‹å¯†ç¢¼
```bash
docker logs jenkins
```

æŸ¥è©¢ `/var/jenkins_home/secrets/initialAdminPassword` çš„å€¼  
è¤‡è£½å¯†ç¢¼ â†’ è²¼å…¥ç€è¦½å™¨ `http://localhost:8080` è§£é–

---

## âœ… Freestyle Jobï¼šHello ä»»å‹™

### å»ºç«‹æ­¥é©Ÿï¼š
1. Jenkins é¦–é  â†’ New Item â†’ è¼¸å…¥åç¨± â†’ é¸ã€ŒFreestyleã€
2. Add build step â†’ Execute shell
3. è¼¸å…¥æŒ‡ä»¤ï¼š
```bash
echo "Hello from Jenkins"
```
4. å„²å­˜ â†’ é»ã€ŒBuild Nowã€ â†’ Console Output å¯è¦‹æˆåŠŸ log

---

## âœ… Pipeline Jobï¼šHello Pipeline

```groovy
pipeline {
  agent any

  stages {
    stage('Hello') {
      steps {
        echo 'Hello from Jenkins Pipeline!'
      }
    }
  }
}
```

- ä½¿ç”¨ `Pipeline script` æ’°å¯«æµç¨‹
- ä¸€å€‹ stageï¼ˆHelloï¼‰ï¼Œä¸€å€‹ echo æ­¥é©Ÿ
- å¯æ‰‹å‹•åŸ·è¡Œè§€å¯Ÿ Console Output

---

## âœ… å¤šéšæ®µ Pipelineï¼šbuild â†’ test â†’ deploy

```groovy
pipeline {
  agent any

  stages {
    stage('Build') {
      steps {
        echo 'ğŸ”¨ Building the project...'
        sh 'sleep 1'
      }
    }

    stage('Test') {
      steps {
        echo 'ğŸ§ª Running tests...'
        sh 'sleep 1'
      }
    }

    stage('Deploy') {
      steps {
        echo 'ğŸš€ Deploying to production...'
        sh 'sleep 1'
      }
    }
  }

  post {
    success {
      echo 'âœ… Pipeline completed successfully!'
    }
    failure {
      echo 'âŒ Pipeline failed.'
    }
  }
}
```

- æ¯å€‹ `stage` æ¨¡æ“¬ä¸€å€‹çœŸå¯¦éšæ®µï¼ˆæœªä¾†å¯æ›æˆ build/test/deploy å¯¦ä½œï¼‰
- `post` å¯å®šç¾©æˆåŠŸæˆ–å¤±æ•—å¾Œçš„æ”¶å°¾è¡Œç‚º
- çµæ§‹æ¸…æ¥šï¼Œä¾¿æ–¼æ“´å……ç‚ºçœŸå¯¦ CI/CD æµç¨‹

---

## ğŸ§  Jenkins å­¸ç¿’å¿ƒå¾—
- æ¯æ¬¡ job åŸ·è¡Œæœƒç”¢ç”Ÿä¸€ç­† build ç´€éŒ„ï¼Œå¯è¿½è¹¤ log èˆ‡éŒ¯èª¤
- Pipeline æ˜¯ Jenkins çš„é€²éšæ–¹å¼ï¼Œå¯ç¨‹å¼åŒ–æè¿°æ¯å€‹æ­¥é©Ÿ
- Jenkins æ˜¯ CI å·¥å…·çš„åŸºç¤ç£šï¼Œä¹‹å¾Œå¯ä»¥æ­é… Gitã€Dockerã€K8s è‡ªå‹•åŒ–æ•´åˆéƒ¨ç½²
