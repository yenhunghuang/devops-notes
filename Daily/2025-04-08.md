# ğŸ“˜ 2025-04-08 - DevOps Bootcamp Day 6

---

## ğŸ¯ ä»Šæ—¥ä¸»é¡Œï¼šGitHub Actions é€²éš CI å¯¦ä½œèˆ‡æœ€ä½³å¯¦è¸

---

## âœ… ä»Šæ—¥å®Œæˆé …ç›®

### âœ… Node.js CI æµç¨‹å»ºç½®
- å»ºç«‹ Node.js å°ˆæ¡ˆï¼Œæ’°å¯« `src/index.js` èˆ‡ `test/test.js`
- å®‰è£å¥—ä»¶ï¼š`eslint`ã€`jest` èˆ‡ StandardJS å¥—ä»¶çµ„
- ä½¿ç”¨ `npm test -- --coverage` æˆåŠŸç”¢ç”Ÿæ¸¬è©¦è¦†è“‹ç‡å ±å‘Š
- è¨­å®š `.eslintrc.js` æ¡ç”¨ `eslint-config-standard` è¦ç¯„

### âœ… GitHub Actions å·¥ä½œæµç¨‹è¨­è¨ˆ
- å»ºç«‹ `.github/workflows/node-ci.yml`
- ä½¿ç”¨ `on: [push, pull_request]` ä¸¦é™å®š `main` åˆ†æ”¯
- æ‹†åˆ†ç‚ºä¸‰å€‹ jobï¼š`setup`, `lint`, `test`
- ä½¿ç”¨ matrix ç­–ç•¥æ–¼å¤šç‰ˆæœ¬ Node.js ä¸­æ¸¬è©¦ï¼ˆé¸æ“‡ä½¿ç”¨å›ºå®š 18.xï¼‰
- åœ¨ `test` job ä¸­åŠ å…¥æ¸¬è©¦è¦†è“‹ç‡å ±å‘Šï¼ˆcoverageï¼‰

---

## ğŸ§ª æˆåŠŸæ’æŸ¥å•é¡Œè¨˜éŒ„

### ğŸ”§ `actions/upload-artifact` ç„¡æ³•ä¸‹è¼‰éŒ¯èª¤æ’æŸ¥

åˆå§‹è¨­å®šï¼š
```yaml
uses: actions/upload-artifact@v3
```
éŒ¯èª¤è¨Šæ¯ï¼š
```
Error: Missing download info for actions/upload-artifact@v3
```

æ’æŸ¥æµç¨‹ï¼š
- å˜—è©¦ v2, v2.3.1 â†’ éŒ¯èª¤ä¾èˆŠ
- æœ€çµ‚æ”¹ç”¨ `actions/upload-artifact@v4` âœ… æˆåŠŸè§£æ±ºï¼

### ğŸ§ª åˆ†æï¼š
- èˆŠç‰ˆ metadata æœ‰æ©Ÿç‡ç„¡æ³•åœ¨ runner æ­£å¸¸ä¸‹è¼‰
- `v4` å·²æ˜¯ GitHub å®˜æ–¹æ¨è–¦ç©©å®šç‰ˆæœ¬ï¼Œè§£æ±ºä¸‹è¼‰ info ææ¯€å•é¡Œ

---

## ğŸ“¦ Artifact ä½¿ç”¨èˆ‡å ±å‘Šç”¢å‡º

- ä½¿ç”¨ `jest --coverage` ç”¢å‡º `coverage/` ç›®éŒ„
- åˆ©ç”¨ `upload-artifact@v4` ä¸Šå‚³å ±å‘Š zip è‡³ GitHub Actions Artifacts å€åŸŸ
- å¯æ–¼ Repo âœ Actions âœ å–®ä¸€ workflow âœ å³ä¸Šã€ŒğŸ“¦ Artifactsã€ä¸‹è¼‰
- è§£å£“å¾Œé–‹å•Ÿ `coverage/lcov-report/index.html` æŸ¥çœ‹æ¸¬è©¦è¦†è“‹ç‡è¦–è¦ºåŒ–å ±å‘Š

---

## ğŸ§  å·¥å…·çŸ¥è­˜è£œå……

### ğŸ” ESLint æ˜¯ä»€éº¼ï¼Ÿ
- éœæ…‹ç¨‹å¼ç¢¼åˆ†æå·¥å…·
- åœ¨ CI éšæ®µå³æ—©ç™¼ç¾éŒ¯èª¤èˆ‡ä¸ä¸€è‡´é¢¨æ ¼å•é¡Œ
- æ­é… Prettier å¯è‡ªå‹•ä¿®æ­£æ’ç‰ˆ

### ğŸ” è¦†è“‹ç‡å ±å‘Šæ˜¯ä»€éº¼ï¼Ÿ
- æ¸¬è©¦æœ‰æ²’æœ‰è¦†è“‹åˆ°ç¨‹å¼ä¸­æ¯æ®µé‚è¼¯ã€å‡½æ•¸ã€åˆ†æ”¯èˆ‡è¡Œæ•¸
- å¯ç”¨ Jest `--coverage` è‡ªå‹•ç”¢ç”Ÿå ±å‘Šèˆ‡ HTML è¦–è¦ºåŒ–
- æ˜¯ CI/CD åœ˜éšŠå“è³ªä¿è­‰é—œéµå·¥å…·

---

## âœ… ä»Šæ—¥ç¸½çµ

- æˆåŠŸå®Œæˆ GitHub Actions å¤š job è¨­è¨ˆ
- è§£æ±º artifact ä¸Šå‚³å¡é»ï¼Œä¸¦ç”¢å‡ºæ¸¬è©¦è¦†è“‹ç‡å ±å‘Š
- å®Œæ•´ç†è§£ ESLint èˆ‡ coverage çš„ç”¨é€”èˆ‡å¯¦å‹™æ“ä½œ
- å»ºç«‹å…·å‚™å¯¦æˆ°æ„ç¾©çš„ Node.js å°ˆæ¡ˆ CI Pipelineï¼Œç‚ºå¾ŒçºŒåŠ ä¸Šéƒ¨ç½²ï¼ˆCDï¼‰æ‰“å¥½åŸºç¤

